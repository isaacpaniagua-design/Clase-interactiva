<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Calidad de Software · 7mo</title>
<style>
  :root{--b:#111;--g:#6b7280;--br:#e5e7eb}
  html,body{height:100%;margin:0;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
  .wrap{display:flex;flex-direction:column;height:100%}
  .bar{position:fixed;top:12px;right:12px;display:flex;gap:8px;z-index:10}
  .btn{padding:10px 14px;border:1px solid var(--b);border-radius:10px;text-decoration:none;background:#fff;font-size:14px}
  .hero{padding:14px 16px;border-bottom:1px solid var(--br);display:flex;gap:12px;align-items:center}
  .hero h1{font-size:18px;margin:0}
  .muted{color:var(--g);font-size:14px}
  iframe{width:100%;height:calc(100% - 56px);border:0}
  .fallback{display:none;place-items:center;height:calc(100% - 56px);text-align:center;padding:24px}
  .fallback .box{border:1px dashed var(--br);border-radius:12px;padding:24px;max-width:780px}
  @media (max-width:740px){ .btn{font-size:13px;padding:8px 12px} }
</style>
</head>
<body>
<div class="wrap">
  <div class="hero">
    <h1>Calidad de Software · 7mo</h1>
    <span class="muted">Portada nítida + módulos dinámicos</span>
  </div>

  <!-- Botonera fija a módulos dinámicos -->
  <div class="bar">
    <a class="btn" id="btn-actividades" href="#" target="_blank">Actividades</a>
    <a class="btn" id="btn-asistencia"  href="#" target="_blank">Asistencia</a>
    <a class="btn" id="btn-entrega"     href="#" target="_blank">Entrega</a>
  </div>

  <!-- Portada Canva en alta, con fallback si no permite iframe -->
  <iframe id="canva" referrerpolicy="no-referrer"></iframe>
  <div id="fallback" class="fallback">
    <div class="box">
      <h2>Portada no disponible para embeber</h2>
      <p class="muted">Algunas páginas bloquean iframes. Abre la portada en su sitio original.</p>
      <p><a class="btn" id="btn-open-canva" href="#" target="_blank">Abrir portada de Canva</a></p>
    </div>
  </div>
</div>

<script>
  // === CONFIGURA AQUÍ ===
  const CANVA_URL = "https://isaacpaniaguar.my.canva.site/dagyizzpbne";
  const APPS_SCRIPT_BASE = "https://script.google.com/macros/s/AKfycbxNU5QMurg7gLvNFepsL6t-wmaONpNGLOtZa7jw4O2y2RBJG2j_5h14MoWnc5rV-bhK9w/exec";
  // ======================

  // Set enlaces de módulos
  document.getElementById("btn-actividades").href = APPS_SCRIPT_BASE + "?page=actividades";
  document.getElementById("btn-asistencia").href  = APPS_SCRIPT_BASE + "?page=asistencia";
  document.getElementById("btn-entrega").href     = APPS_SCRIPT_BASE + "?page=entrega";

  // Carga portada Canva
  const iframe = document.getElementById("canva");
  const fallback = document.getElementById("fallback");
  const openCanva = document.getElementById("btn-open-canva");
  openCanva.href = CANVA_URL;

  // Intento 1: cargar URL directa
  iframe.src = CANVA_URL;

  // Fallback si el iframe es bloqueado por X-Frame-Options/CSP
  let loaded = false;
  iframe.addEventListener("load", () => { loaded = true; });
  setTimeout(() => {
    if (!loaded) {
      iframe.style.display = "none";
      fallback.style.display = "grid";
    }
  }, 2000);
</script>
</body>
</html>
